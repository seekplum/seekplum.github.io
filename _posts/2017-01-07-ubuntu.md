---
layout: post
title:  ubuntu相关操作
categories: linux系统
tags: ubuntu, linux
thread: ubuntu
---


## 软件安装
### dpkg
```
dpkg -i package_name
dpkg -i --force-overwrite-i package_name # 强制安装软件
dpkg -i --force-all package_name # 不顾一切的强制安装软件
```

## 软件移除
### dpkg
```
dpkg -r package_name
dpkg -r --purge --force-deps package_name  # 强制移除软件
dpkg --pending --remove # 移除多余的软件
```
### apt-get
```
apt-get remove package # package 删除包
apt-get remove --purge package # package 删除包，包括删除配置文件等
apt-get autoremove --purge package # package删除包及其依赖的软件包+配置文件等（只对6.10有效，强烈推荐）
```
## 解 .deb 档案成数个档案
```
dpkg -x package_name.deb target_dir
```

## 列出系统中所有安装的软件
```
dpkg --get-selections
```

## 设置别名
```
vim ~/.bashrc
alias pyt='ptpython'  #输入pyt和ptpython都会运行pypython
```
## python版本切换
> ubuntu14.04LTS上装有两个版本的python：python2.7.6与python3.4，默认使用python2.7.6。可以使用以下命令来修改默认python版本

* 备份
> sudo cp /usr/bin/python /usr/bin/python_bak
* **`/usr/bin` 下的文件千万不要删除**
> 误删重新安装：sudo apt-get install --reinstall python
* 默认设置为python3.4
> sudo ln -s /usr/bin/python3.4 /usr/bin/python

* 查看python2的版本
> python2 --version
* 把系统默认版本设置为python2.x
> alias python=python2 # 原理是设置别名

## ubuntu修改计算机名
* 修改计算机名
> gedit /etc/hostname
* 还需要修改hosts文件
> vi /etc/hosts
* 临时修改计算机名
> hostname [新计算机名]

## ubtuntu14.04 添加启动器 后面的注释要删除
> sudo gedit /usr/share/applications/Navicat.desktop
```
[Desktop Entry]
Encoding=UTF-8　　　　　　　　 # 编码
Name=Navicat 　　　　　　　　  # 软件名称
Comment=Navicat Mysql　　　　 # 软件简介
Exec=/home/hjd/software/navicat111_mysql_cs/start_navicat　　　　 # 软件启动程序路径
Icon=/home/hjd/software/navicat111_mysql_cs/navicat.jpg　　　　　　# 软件图标路径
Terminal=false
StartupNotify=true
Type=Application
Categories=Application;Development;
```

## navicaat试用结束过期
> 删除home->.navicat目录
> 重新安装navicat：./start_navicat

## 安装五笔输入法
```
sudo apt-get install ibus-table-wubi
sudo apt-get install fcitx-table-wbpy
直接在ubuntu软件中心查找安装
```

## 更新到最新源
```
sudo apt-get update
sudo apt-get upgrade
```

## 立即生效
```
nautilus -q
```

## 安装字体
```
sudo cp msyh.ttf  /usr/share/fonts/
```

## 文件、目录创建、删除
```
mkdir 目录名---------------------创建一个目录
rmdir 空目录名-------------------删除一个空目录
rm 文件名 文件名-----------------删除一个文件或多个文件
rm –rf 非空目录名----------------删除一个非空目录下的一切
touch 文件名--------------------创建一个空文件
```
## pycharm中文不显示，更换字体就行，比如雅黑等

> Appearance & Behavior-->Appearance-->Override default fonts by (not recommended)-->Name:WenQuanYi Micro Hei

## pycharm汉化,把resources_cn.jar放到lib目录下
```
sudo cp resoururces_cn.jar /home/hjd/software/pycharm-4.0.5/lib
```

pycharm视图跳转到模板
```
pycharm从views跳转到html文件，要在settings-->Project:task-->Project Structure中设置Templates
```

## 列出已安装带qq关键字的软件
> sudo dpkg -l | grep qq

## ipython
> 如果要运行python3.*版本的ipython,则需要安装ipython3
```
sudo apt-get install ipython3
在终端输入ipython3进入
```

## 终端退出python编译器
```
exit()
Ctrl+Z
```

## 查看端口占用
```
ps aux | grep mysql
ps aux | grep -i manage  # 查看django项目端口占用(在项目目录下输入命令)
netstart -tnlp
```

## 设置vim行号
### 单次设置vim行号
> set nu
### 永久设置vim行号
> 进入etc/vim目录，找到vimrc文件（vim的初始化文件），使用cp命令对其进行备份，命令为：cp  vimrc  vimrc.bak（备份是一种安全机制，要谨记）；用管理员权限打开vimrc，命令为：sudo  vi  vimrc,打开后，在vimrc文件最后加入一行命令：set  nu；加完后，写入，退出，重启vim，即可发现有行号的标示。

## gedit设置行号
> 编辑->首选项 或者 编辑->视图

## 终端快捷键
```
Ctrl+Alt+T　　　　　　#新开一个终端
Ctrl+Shift+T　　　　 #在已开终端在开一个终端
Ctrl+H　　　　　　　　 #显示/隐藏 隐藏文件
```

## Windows文本在Ubuntu的打开，格式不正确
> 要将a.txt里的^M去掉并写入b.txt，则使用如下指令
```
cat a.txt | tr -d "^M" > b.txt
```
[ubuntu与window换行符](http://blog.csdn.net/wjcquking/article/details/6634504)

## 结束进程
```
ctrl+atl+f2-f6进入命令列界面(最好不要进入f1)，ctrl+atl+f7回到卓面
ps x                    # 列出所有进程
ps x|less            　　#可以按上下键进行翻找,按q退回输入命令
sudo kill 端口号　　　　　 # 结束进程
```

## 谷歌浏览器添加搜索引擎
```
名称填入「百度」（不包括「」，下同），这一项可自定义关键词填入「baidu.com」，这一项为选填，网址填入「http://www.baidu.com/s?wd=%s」
添加搜狗搜索：「搜狗」「sogou.com」「http://www.sogou.com/web?query=%s」
添加必应搜索：「必应 」「cn.bing.com」「http://cn.bing.com/search?q=%s」
添加360搜索：「360搜索」「so.com 」「http://www.so.com/s?q=%s」
添加淘宝搜索：「淘宝搜索 「taobao.com」「http://s.taobao.com/search?q=%s」
```

## 无法安装'libgtk2.0-0:i386'
```
解决方法:
sudo apt-get install libgtk2.0-0:i386        #把相关依赖都装上,然而我装不上
```

## 查看ip地址
> ifconfig

## The _imagingft C module is not installed

> 有些系统，比如ubuntu会包此类错误（centos貌似不会）
```
# 安装jpeg库
wget http://www.ijg.org/files/jpegsrc.v7.tar.gz
tar -zxvf jpegsrc.v7.tar.gz
cd jpeg-7
CC="gcc -arch x86_64"
./configure --enable-shared --enable-static
make && make install
```
```
# 安装相关依赖
sudo apt-get install libfreetype6-dev
sudo apt-get install libjpeg-dev
```
```
# 卸载后重新安装
pip uninstall Pillow
pip install Pillow==2.8.1
```
-------------------------------------------------------------
```
上述方法中可能有些依赖装不上，先安装下列依赖
sudo apt-get install libpng12-0=1.2.50-1ubuntu2
sudo apt-get install libfreetype6=2.5.2-1ubuntu2
sudo rm -rf /var/cache/apt/archives/lock
sudo apt-get install libfreetype6-dev
sudo apt-get install libfreetype6
sudo apt-get install libpng12-dev
```

> .so 为共享库,是shared object,用于动态连接的,和dll差不多
