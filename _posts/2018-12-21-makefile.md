---
layout: post
title: Makefileå­¦ä¹ 
categories: linux
tags: make Makefile
thread: linux
---
## æ¡ä»¶åˆ†æ”¯åˆ¤æ–­
**ä¸€å®šè¦æ³¨æ„ `ifeq`, `ifdef` ä¸èƒ½ç¼©è¿›ï¼Œè¡€çš„æ•™è®­ ğŸ˜­**

å½“ `foo`å˜é‡ä¸ºç©ºå­—ç¬¦ä¸²ç­‰å€¼æ—¶ï¼Œ`ifdef` åˆ¤æ–­ç»“æœä¹Ÿæ˜¯ `true`

```bash
# Copyright 2018 The seekplum Authors

IMAGE_COUNT=1
NOT_EXISTS=0
HOMENAME=$(shell hostname)

foo =

docker:
ifeq ($(IMAGE_COUNT),$(NOT_EXISTS))
	@echo "${HOMENAME} images does not exists"
else
	@echo "${HOMENAME} images exists"
endif
	@echo "done!"


test:
ifdef foo
	@echo yes
	@ls -l /tmp
else
	@echo no
	@ls -l /root
endif
	@echo "done!"

.PHONY: all docker test
```

## å‚è€ƒ
* [ä½¿ç”¨æ¡ä»¶åˆ¤æ–­](https://seisman.github.io/how-to-write-makefile/conditionals.html)